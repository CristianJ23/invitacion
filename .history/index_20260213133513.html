<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <title>Â¿Aceptas la invitaciÃ³n?</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    body {
      background-image: url('/assets/fondo_romantico.webp');
      background-size: cover;
      background-position: center;
      font-family: Arial, sans-serif;
      text-align: center;
      margin: 0;
      padding: 40px 20px;
      overflow: hidden;
    }

    #main-question {
      font-size: clamp(28px, 6vw, 60px);
      margin-bottom: 40px;
      color: rgb(255, 140, 0);
    }

    .button-area {
      position: relative;
      width: 100%;
      max-width: 400px;
      margin: auto;
      height: 320px;
    }

    .button-container {
      position: relative;
      width: 100%;
      height: 100%;
    }

    button {
      font-size: 18px;
      padding: 12px 26px;
      cursor: pointer;
      border-radius: 12px;
      border: none;
    }

    #yes-button {
      z-index: 2;
    }

    #no-button {
      position: absolute;
      top: 80px;
      left: 50%;
      transform: translateX(-50%);
      transition: all 0.2s ease;
    }

    #maybe-button {
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
    }

    /* MODAL */
    .modal {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.45);
      display: flex;
      align-items: center;
      justify-content: center;
      opacity: 0;
      pointer-events: none;
      transition: opacity 0.3s ease;
    }

    .modal.show {
      opacity: 1;
      pointer-events: auto;
    }

    .modal-content {
      background: white;
      padding: 30px 35px;
      border-radius: 20px;
      max-width: 320px;
      text-align: center;
      animation: pop 0.4s ease;
    }

    .modal-content h2 {
      color: #ff4d6d;
    }

    .modal-content button {
      margin-top: 15px;
      padding: 10px 20px;
      border-radius: 10px;
      background: #ff4d6d;
      color: white;
      border: none;
      cursor: pointer;
    }

    @keyframes pop {
      from {
        transform: scale(0.7);
        opacity: 0;
      }

      to {
        transform: scale(1);
        opacity: 1;
      }
    }
  </style>
</head>

<body>

  <h1 id="main-question">Will you be my Valentine? ðŸ¥º</h1>

  <div class="button-area" id="zona-segura">
    <div class="button-container">
      <button id="yes-button">SÃ­ ðŸ˜‰</button>
      <button id="no-button">No ðŸ˜¢</button>
      <button id="maybe-button">Tal vez ðŸ¤”</button>
    </div>
  </div>

  <!-- MODAL FUERA -->
  <div id="modal" class="modal">
    <div class="modal-content">
      <h2>ðŸ’– Yay! ðŸ’–</h2>
      <p>
        You just made my day ðŸ¥°
        I promise this Valentineâ€™s will be full of smiles,
        surprises and lots of love ðŸ’•
      </p>
      <button id="closeModal">Aww ðŸ’˜</button>
    </div>
  </div>
  <script src="logic.js"></script>
  <script>
    // tu cÃ³digo aquÃ­
  </script>


  <script>
    const noButton = document.getElementById('no-button');
    const yesButton = document.getElementById('yes-button');
    const maybeButton = document.getElementById('maybe-button');
    const h1 = document.getElementById('main-question');
    const modal = document.getElementById("modal");
    const closeModal = document.getElementById("closeModal");

    const preguntasMaybe = [
      "Are you sure? ðŸ¤¨",
      "Would you reconsider? ðŸ¤”",
      "Are you completely convinced? ðŸ˜¯",
      "What if you think about it a bit more? ðŸ§ ",
      "Maybe another time? â³",
      "Isnâ€™t there even a tiny chance? ðŸ˜Œ",
      "Are you 100% sure about your decision? ðŸ§",
      "What if youâ€™re missing out on something great? ðŸ˜",
      "What if you regret it later? ðŸ˜¬",
      "Will you give it a chance? ðŸ™ƒ"
    ];

    let maybeIndex = 0;

    maybeButton.onclick = () => {
      registrarEvento("maybe_click");
      h1.textContent = preguntasMaybe[maybeIndex];
      maybeIndex = (maybeIndex + 1) % preguntasMaybe.length;
    };

    yesButton.onclick = () => {
      registrarEvento("yes_click");
      modal.classList.add("show");
    };

    closeModal.onclick = () => modal.classList.remove("show");

    function moverBoton() {
      registrarEvento("no_move");

      const zona = document.getElementById('zona-segura');
      const zonaRect = zona.getBoundingClientRect();

      const rangeX = zonaRect.width - noButton.offsetWidth;
      const rangeY = zonaRect.height - noButton.offsetHeight;

      const newX = Math.random() * rangeX;
      const newY = Math.random() * rangeY;

      noButton.style.left = `${newX}px`;
      noButton.style.top = `${newY}px`;
    }

    const esMovil = 'ontouchstart' in window || navigator.maxTouchPoints > 0;

    if (!esMovil) {
      document.addEventListener('mousemove', (e) => {
        const rect = noButton.getBoundingClientRect();

        const botonX = rect.left + rect.width / 2;
        const botonY = rect.top + rect.height / 2;

        const distancia = Math.hypot(botonX - e.clientX, botonY - e.clientY);

        if (distancia < 120) moverBoton();
      });

    }

    if (esMovil) {
      let scale = 1;
      setInterval(() => {
        scale -= 0.08;
        if (scale < 0.25) scale = 0.25;
        noButton.style.transform = `translateX(-50%) scale(${scale})`;
      }, 1000);
    }

    noButton.onclick = (e) => {
      e.preventDefault();
      moverBoton();
    };
  </script>

</body>

</html>